/** @license React vundefined
 * react-interactions-accessibility/focus-table.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';var f=require("react"),g=require("react-interactions/accessibility/tabbable-scope"),h=require("react-interactions/events/keyboard"),l=f.useRef;function m(a){a=a.getChildren();null!==a&&(a=a[0],null!==a&&(a=a.getChildren(),null!==a&&(a=a[0],null!==a&&(a=a.getScopedNodes(),null!==a&&(a=a[0],null!==a&&a.focus())))))}function n(a){a=a.getScopedNodes();null!==a&&0<a.length&&a[0].focus()}function p(a,b){a=a.getChildren();null!==a&&(b=a[b])&&n(b)}
function q(a){var b=a.getParent();return null!==b&&"row"===b.getProps().type&&(b=b.getChildren(),null!==b)?(a=b.indexOf(a),[b,a]):[null,0]}function r(a){a=a.getParent();if(null!==a&&"row"===a.getProps().type){var b=a.getParent();if(null!==b&&"table"===b.getProps().type&&(b=b.getChildren(),null!==b))return a=b.indexOf(a),[b,a]}return[null,0]}
function t(a,b){a=a.getParent();if(null!==a&&"row"===a.getProps().type){var e=a.getParent();if(null!==e){a=e.getProps();var k=a.onKeyboardOut;"table"===a.type&&"function"===typeof k&&k(b,function(a){var b=e.getChildrenFromRoot();if(null!==b)for(var c=0;c<b.length;c++){var d=b[c];if(d.getProps().id===a){m(d);break}}})}}}
module.exports={focusFirstCellOnTable:m,createFocusTable:function(){var a=f.unstable_createScope(g.tabFocusableImpl);return[function(b){return f.createElement(a,{type:"table",onKeyboardOut:b.onKeyboardOut,id:b.id},b.children)},function(b){return f.createElement(a,{type:"row"},b.children)},function(b){b=b.children;var e=l(null),k=h.useKeyboard({onKeyDown:function(a){var b=e.current;switch(a.key){case "UpArrow":var c=q(b);a=c[1];if(null!==c[0]){var d=r(b);c=d[0];d=d[1];null!==c&&(0<d?p(c[d-1],a):0===
d&&t(b,"up"))}return;case "DownArrow":c=q(b);a=c[1];null!==c[0]&&(d=r(b),c=d[0],d=d[1],null!==c&&-1!==d&&(d===c.length-1?t(b,"down"):p(c[d+1],a)));return;case "LeftArrow":c=q(b);a=c[0];c=c[1];null!==a&&(0<c?n(a[c-1]):0===c&&t(b,"left"));return;case "RightArrow":c=q(b);a=c[0];c=c[1];null!==a&&-1!==c&&(c===a.length-1?t(b,"right"):n(a[c+1]));return}a.continuePropagation()}});return f.createElement(a,{listeners:k,ref:e,type:"cell"},b)}]}};
