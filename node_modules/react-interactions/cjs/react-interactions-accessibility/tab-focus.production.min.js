/** @license React vundefined
 * react-interactions-accessibility/tab-focus.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';var f=require("react"),g=require("react-interactions/accessibility/tabbable-scope"),h=require("react-interactions/events/keyboard"),m=f.useRef;function n(a){a=a.getScopedNodes();if(null===a||0===a.length)return[null,null,null,0,null];var b=a[0],e=a[a.length-1],c=a.indexOf(document.activeElement),d=null;-1!==c&&(d=a[c]);return[a,b,e,c,d]}function p(a){null!==a&&a.focus()}
function q(a,b,e){var c=n(a);a=c[0];var d=c[1],k=c[2],l=c[3];c=c[4];null===c?b&&b.continuePropagation():c===k?e?(p(d),b&&b.preventDefault()):b&&b.continuePropagation():(p(a[l+1]),b&&b.preventDefault())}function r(a,b,e){var c=n(a);a=c[0];var d=c[1],k=c[2],l=c[3];c=c[4];null===c?b&&b.continuePropagation():c===d?e?(p(k),b&&b.preventDefault()):b&&b.continuePropagation():(p(a[l-1]),b&&b.preventDefault())}
var t={focusFirst:function(a){a=n(a)[1];p(a)},focusPrevious:function(a){r(a)},focusNext:function(a){q(a)},getNextController:function(a){var b=a.getChildrenFromRoot();if(null===b)return null;a=b.indexOf(a);return-1===a||a===b.length-1?null:b[a+1]},getPreviousController:function(a){var b=a.getChildrenFromRoot();if(null===b)return null;a=b.indexOf(a);return 0>=a?null:b[a-1]},TabFocusController:f.forwardRef(function(a,b){var e=a.children,c=a.contain,d=m(null);a=h.useKeyboard({onKeyDown:function(a){if("Tab"!==
a.key)a.continuePropagation();else{var b=d.current;null!==b&&(a.shiftKey?r(b,a,c):q(b,a,c))}}});return f.createElement(g.TabbableScope,{ref:function(a){b&&("function"===typeof b?b(a):b.current=a);d.current=a},listeners:a},e)})};module.exports=t;
